<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TheMaterialInternet</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://use.typekit.net/dgr6kqu.css" />
  </head>

  <body>
    <div class="header">
      <h1>The Material Internet of a Single Message</h1>
      <button class="about-btn">About</button>
    </div>

    <div class="map_container">
      <div class="map-piece" style="top: 23%; left: 20px" id="img1">
        <p class="timestamp">00.00.00.00</p>
        <div class="active-zone">
          <img src="Images/flower_blackandwhite.jpg" style="width: 300px" />
        </div>
        <p class="caption">
          My grandfather clicks a picture of pink flowers and sends it to me as
          a WhatsApp message.
        </p>
        <video autoplay muted loop>
          <source src="Videos/dadan.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="map-piece" style="top: 05%; left: 506px">
        <p class="timestamp">00.00.00.51</p>
        <div class="active-zone">
          <img src="Images/blackbox.jpg" style="width: 150px" />
        </div>

        <p class="caption">
          It may be true that the internet is not just a black box, but
          sometimes it passes through a black box
        </p>

        <img src="Images/digitalquarry.jpg" class="hover-image" />
      </div>

      <div class="map-piece" style="top: 25%; left: 1100px">
        <img src="Images/IIMK_Blue.jpg" style="width: 400px" />
      </div>

      <div class="map-piece over" style="top: 50%; left: 800px">
        <p class="timestamp">00.00.00.54</p>
        <div class="active-zone">
          <img src="Images/OFCport1.jpg" style="width: 350px" />
        </div>

        <p class="caption">
          Outside his house is a moss covered stone carved with letters OFC.
          Underneath it are optical fiber cables that carry the message from the
          house to the nearest Computer Center
        </p>
        <video autoplay muted loop>
          <source src="Videos/OFC2animation.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="map-piece" style="top: 6%; left: 1540px">
        <p class="timestamp">00.00.00.51</p>
        <div class="active-zone">
          <img src="Images/computercenter.jpg" style="width: 350px" />
        </div>
        <p class="caption">
          The computer center has blue cables that direct messages within a
          small neighbourhood, known as the Ethernet, and yellow ones carry my
          grandfatherâ€™s message outside to the Reliance local office (network
          providers)
        </p>
        <video autoplay muted loop>
          <source src="Videos/ComputerCenter.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="map-piece" style="top: 33%; left: 2150px">
        <p class="timestamp">00.00.00.51</p>
        <div class="active-zone">
          <img src="Images/cablesoutside.jpg" style="width: 250px" />
        </div>
        <p class="caption">
          The Reliance local office receives the message and sends it through
          its local backbone of over head towers and underground cables
        </p>
        <video autoplay muted loop>
          <source src="Videos/bluewires.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="map-piece" style="top: 27%; left: 2600px">
        <p class="timestamp">00.00.00.51</p>
        <div class="active-zone">
          <img src="Images/chennaiport.jpg" style="width: 400px" />
        </div>
        <p class="caption">It reaches the coast of Chennai</p>
        <video autoplay muted loop>
          <source src="Videos/ChennaiCoast.mp4" type="video/mp4" />
        </video>
      </div>

      <div class="map-piece" style="top: 07%; left: 4400px">
        <p class="timestamp2">00.00.00.51</p>
        <div class="active-zone">
          <img src="Images/MetaSingapore.jpg" style="width: 500px" />
        </div>
        <p class="caption">Reaches the Meta Data centerin Singapore</p>
      </div>

      <div class="map-piece" style="bottom: 15%; left: 3200px">
        <p class="timestamp2">00.00.00.51</p>
        <p class="caption">
          It passes through a submarine tube in the Indian Ocean
        </p>
        <div class="active-zone">
          <img src="Images/indianocean.jpg" style="width: 1150px" />
          <video autoplay muted loop class="inline-video">
            <source src="Videos/OFC2animation.mp4" type="video/mp4" />
          </video>
        </div>
      </div>

      <div class="map-piece" style="top: 25%; left: 4700px">
        <img src="Images/metadatacentermap.jpg" style="width: 400px" />
        <p class="caption">Singapore is the only Meta center in Asia</p>
      </div>

      <div class="map-piece" style="bottom: 10%; left: 5200px">
        <p class="timestamp2">00.00.00.51</p>
        <p class="caption">
          It passes through a submarine tube in the Indian Ocean
        </p>
        <img src="Images/NorthPacificOcean.jpg" style="width: 1150px" />
      </div>

      <div class="map-piece" style="top: 23%; left: 6600px" id="img1">
        <p class="timestamp">00.00.00.00</p>
        <img src="Images/Bifrost-Echo_NA.jpg" style="width: 400px" />
        <p class="caption">
          My grandfather clicks a picture of pink flowers and sends it to me as
          a WhatsApp message.
        </p>
      </div>

      <div class="map-piece" style="bottom: 10%; left: 7100px" id="img1">
        <p class="timestamp">00.00.00.00</p>
        <img src="Images/RhodeIsland.jpg" style="width: 450px" />
        <p class="caption">
          My grandfather clicks a picture of pink flowers and sends it to me as
          a WhatsApp message.
        </p>
      </div>

      <div class="map-piece" style="top: 70px; left: 7700px" id="img1">
        <p class="timestamp">00.00.00.00</p>
        <img src="Images/randomHouse.jpg" style="width: 300px" />
        <p class="caption">
          My grandfather clicks a picture of pink flowers and sends it to me as
          a WhatsApp message.
        </p>
      </div>

      <div class="pop-overlay">
        <button class="close-btn">X</button>
        <div class="pop-content">
          <h2>Pop-up Content</h2>
          <p>This is the content of the pop-up.</p>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  const allMapPieces = document.querySelectorAll(".map-piece");

  document.querySelectorAll(".map-piece").forEach((piece) => {
    const video = piece.querySelector("video");
    const timestamp = piece.querySelector(".timestamp");
    const caption = piece.querySelector(".caption");
    const activeZone = piece.querySelector(".active-zone");
    const hoverImg = piece.querySelector(".hover-image");

    if (!activeZone) return;

    activeZone.addEventListener("mouseenter", () => {
      if (video) {
        video.style.display = "block";
        video.currentTime = 0; // restart from beginning
        video.muted = false;   // enable sound
        video.play();          // ensure video plays
      }
      if (hoverImg) hoverImg.style.display = "block";
      if (caption) caption.style.backgroundColor = "white";
      if (timestamp) timestamp.style.backgroundColor = "white";

      // hide all other map pieces
      allMapPieces.forEach((p) => {
        if (p !== piece) {
          p.style.display = "none";
        }
      });
    });

    activeZone.addEventListener("mouseleave", () => {
      if (video) {
        video.style.display = "none";
        video.muted = true;    // mute when not hovering
        video.pause();         // pause the video
      }
      if (hoverImg) hoverImg.style.display = "none";
      if (caption) caption.style.backgroundColor = "transparent";
      if (timestamp) timestamp.style.backgroundColor = "transparent";

      // show all other active zones
      allMapPieces.forEach((p) => {
        p.style.display = "block";
      });
    });
  });

  const aboutBtn = document.querySelector(".about-btn");
  aboutBtn.addEventListener("click", () => {
    const popOverlay = document.querySelector(".pop-overlay");
    popOverlay.style.transform = "translateX(0)";
  });

  const closeBtn = document.querySelector(".close-btn");
  closeBtn.addEventListener("click", () => {
    const popOverlay = document.querySelector(".pop-overlay");
    popOverlay.style.transform = "translateX(-100%)";
  });
</script>
